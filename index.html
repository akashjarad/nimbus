<!DOCTYPE html>
<html>

  <head>
    <title>Nimbus</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0">

    <!-- Underscore and other utilities -->
    <script src="js/underscore.js"></script>

    <!-- Isomerjs and libraries -->
    <script src="js/isomer.js"></script>

    <!-- Objects -->
    <script src="js/objects/ec2.js"></script>

    <!-- Reset CSS styles -->
    <link href="css/reset.css" rel="stylesheet">

  </head>
  <body>
    <canvas id="canvas" width="1000" height="700"></canvas>
    <script>

      /**
       * Let the Isomer hacks begin!
       */

      /**
       * Sets the color of a path
       */
      Isomer.Path.prototype.setColor = function (color) {
        this.color = color;
      };

      /**
       * Sets the color of a shape
       */
      Isomer.Shape.prototype.setColor = function (color) {
        var paths = this.paths;
        for (i = 0; i < paths.length; i++) {
          paths[i].color = color;
        }
      }

      /**
       * Build out a collection object which can contain lots of objects
       */

      function Object3D() {
        this.items = [];
      }

      Object3D.prototype.push = function (item) {
        if (Object.prototype.toString.call(item) == '[object Array]') {
          for (var i = 0; i < item.length; i++) {
            this.push(item[i]);
          }
        } else {
          this.items.push(item);
        }
      }

      Isomer.Object3D = Object3D;


      /**
       * Kick off our diagrams
       *
       * Generated with Isomer
       * http://jdan.github.com/isomer
       */

      /* Create an Isomer instance with our canvas */
      var iso = new Isomer(document.getElementById("canvas"));

      /* Some convenient renames */
      var Point = Isomer.Point;
      var Path = Isomer.Path;
      var Shape = Isomer.Shape;
      var Color = Isomer.Color;

      function scene() {

        /* Add some instances */

        iso.add(EC2Instance(new Point(0, 3, 0), 'large'));
        iso.add(EC2Instance(new Point(0, 1.5, 0), 'medium'));
        iso.add(EC2Instance(new Point(0, 0, 0), 'small'));


        iso.add(S3(new Point(3, 0, 0)));

      }

      setInterval(scene, 1000 / 30);

    </script>
  </body>
</html>